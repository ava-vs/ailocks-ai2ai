# Deep Research - –†–µ–∑—é–º–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–°–∏—Å—Ç–µ–º–∞ **Deep Research** –¥–ª—è Ailock –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –≠—Ç–æ –ø–µ—Ä–≤–∞—è —Ñ–∞–∑–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.

## üìÅ –°–æ–∑–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `src/lib/deep-research-service.ts` - –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π
- `netlify/functions/deep-research.ts` - API —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π  
- `netlify/functions/deep-research-health.ts` - Health check
- `src/components/Chat/DeepResearchResult.tsx` - UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- `netlify/functions/chat-stream.ts` - –û–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ Deep Research
- `docs/DEEP_RESEARCH.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `scripts/test-deep-research.js` - –¢–µ—Å—Ç–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç
- **3-—É—Ä–æ–≤–Ω–µ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≤—ã–∫–æ–≤** (3, 10, 20 –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Semantic Scholar API** –¥–ª—è –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **–ò–ò-–∞–Ω–∞–ª–∏–∑ –∏ —Å–∏–Ω—Ç–µ–∑** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ** –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —á–∞—Ç–µ
- **–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ XP** –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞–≤—ã–∫–∞
- **–ö—Ä–∞—Å–∏–≤—ã–π UI** –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **Health check** –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### üîß –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
**–†—É—Å—Å–∫–∏–µ:** –∏—Å—Å–ª–µ–¥—É–π, –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π, –∏–∑—É—á–∏, –Ω–∞–π–¥–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –≥–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑  
**–ê–Ω–≥–ª–∏–π—Å–∫–∏–µ:** research, analyze, study, investigate, deep dive

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
    ‚Üì (—á–∞—Ç: "–∏—Å—Å–ª–µ–¥—É–π –ò–ò")
Chat Stream Function  
    ‚Üì (–æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã)
Deep Research API
    ‚Üì (–ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤—ã–∫–æ–≤)
Deep Research Service
    ‚Üì (–ø–æ–∏—Å–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
Semantic Scholar API + Web Sources
    ‚Üì (–∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö)  
AI Service (GPT/Claude)
    ‚Üì (—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
Chat UI + DeepResearchResult Component
```

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend:** TypeScript, Netlify Functions
- **AI:** OpenAI/Anthropic —á–µ—Ä–µ–∑ Unified AI Service
- **Data:** Semantic Scholar API, —Å–∏–º—É–ª—è—Ü–∏—è –≤–µ–±-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- **Frontend:** React, Tailwind CSS, Lucide Icons
- **Database:** PostgreSQL —á–µ—Ä–µ–∑ Drizzle ORM
- **Skills:** –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π –Ω–∞–≤—ã–∫–æ–≤ Ailock

## üîç –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# 1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ —á–∞—Ç–µ –ø–∏—à–µ—Ç:
"–∏—Å—Å–ª–µ–¥—É–π –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –≤ –º–µ–¥–∏—Ü–∏–Ω–µ"

# 2. –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –∑–∞–ø—Ä–æ—Å
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —É—Ä–æ–≤–µ–Ω—å –Ω–∞–≤—ã–∫–∞ deep_research  
- –ò—â–µ—Ç –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –≤ Semantic Scholar
- –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —á–µ—Ä–µ–∑ –ò–ò
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç—á–µ—Ç
- –ù–∞—á–∏—Å–ª—è–µ—Ç XP –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

# 3. –†–µ–∑—É–ª—å—Ç–∞—Ç –≤–∫–ª—é—á–∞–µ—Ç:
- –ö—Ä–∞—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ (2-3 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- –ö–ª—é—á–µ–≤—ã–µ –∏–Ω—Å–∞–π—Ç—ã (3-5 –ø—É–Ω–∫—Ç–æ–≤) 
- –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ (2-4 –ø—É–Ω–∫—Ç–∞)
- –°–ø–∏—Å–æ–∫ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ —Å —Å—Å—ã–ª–∫–∞–º–∏
- –û—Ü–µ–Ω–∫—É –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏ (0-100%)
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
node scripts/test-deep-research.js

# Health check
curl http://localhost:8888/.netlify/functions/deep-research-health

# –ü—Ä—è–º–æ–π API –≤—ã–∑–æ–≤  
curl -X POST http://localhost:8888/.netlify/functions/deep-research \
  -H "Content-Type: application/json" \
  -d '{"query":"–º–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ","userId":"user-id","options":{"language":"ru"}}'
```

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã

### ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–≤—ã–∫ `semantic_search` 
- –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –Ω–∞–≤—ã–∫ `deep_research` (—É—Ä–æ–≤–µ–Ω—å 1+)
- –•–æ—Ç—è –±—ã –æ–¥–∏–Ω AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä (OpenAI/Anthropic/OpenRouter)

### üîß –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
OPENAI_API_KEY=your-key        # –î–ª—è –ò–ò –∞–Ω–∞–ª–∏–∑–∞
ANTHROPIC_API_KEY=your-key     # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —Å–ª–æ–∂–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞  
OPENROUTER_API_KEY=your-key    # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏
```

## üé® UI Features

- **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —Å–µ–∫—Ü–∏–∏** —Å —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ–º/—Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ–º
- **–¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç–æ–≤–µ—Ä–Ω–æ—Å—Ç–∏
- **–ò–∫–æ–Ω–∫–∏ –ø–æ —Ç–∏–ø–∞–º –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** (üéì –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ, üåê –≤–µ–±)
- **–°—Å—ã–ª–∫–∏ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫–∏** —Å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏
- **Responsive –¥–∏–∑–∞–π–Ω** –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üöÄ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É

- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ fallback
- ‚úÖ CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –¢–∞–π–º–∞—É—Ç—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö API (15 —Å–µ–∫)
- ‚úÖ Retry –ª–æ–≥–∏–∫–∞ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö  
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ Health check –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç—ã

## üìà –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–î–µ–ø–ª–æ–π** - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –≥–æ—Ç–æ–≤–∞ –∫ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
2. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –æ—à–∏–±–æ–∫
4. **–†–∞—Å—à–∏—Ä–µ–Ω–∏–µ** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö

---

**üéâ Deep Research —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** 